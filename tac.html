<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <pre>
        def Prec(c):
    if c == '^':
        return 3
    elif c == '/' or c == '*':
        return 2
    elif c == '+' or c == '-':
        return 1
    else:
        return -1


def InfixToPostfix(s):
    st = []  # stack
    result = ""  # postfix
    for i in range(len(s)):
        c = s[i]
        if c.isalpha() or c.isdigit():
            result += c
        elif c == '(':
            st.append('(')
        elif c == ')':
            while st[-1] != '(':
                result += st.pop()
            st.pop()
        else:
            while len(st) != 0 and Prec(s[i]) <= Prec(st[-1]):
                result += st.pop()
            st.append(c)
    while len(st) != 0:
        result += st.pop()
    return result


def TAC(postfix):
    str = ["T1", "T2", "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10",
           "T11", "T12", "T13", "T14", "T15", "T16", "T17", "T18", "T19", "T20"]
    ptr = 0
    stk = []
    for c in postfix:
        if c.isalpha() or c.isdigit():
            stk.append(c)
        else:
            ch1 = stk.pop()
            ch2 = stk.pop()
            if len(stk) != 0:
                print("\n", str[ptr] + "=" + ch2 + c + ch1)
                stk.append(str[ptr])
            else:
                print("\n", ch2 + c + ch1)
            ptr += 1


exp = input("\nEnter the Expression: ")
postfix = InfixToPostfix(exp)
print("\nPostfix of the Expression: ", postfix)
print("\nThree Address Code: ")
TAC(postfix)

    </pre>
</body>

</html>